# 법률 통합 시스템 MVP 구현 계획

## 🎯 전체 비전
기존 AI Safety SaaS 시스템과 법률 데이터베이스를 자연스럽게 통합하여, 사용자가 기존 업무 플로우에서 법률 정보를 쉽게 접근하고 컴플라이언스를 확인할 수 있도록 하는 것

## 💡 MVP 핵심 기능 (와우 포인트 중심)

### 1. **스마트 법률 검색 위젯** ⭐️ 
- **위치**: 사이드바 상단에 항상 보이는 검색박스
- **기능**: 
  - "화기작업 안전기준" 같은 자연어 검색
  - 검색 결과를 팝업으로 바로 표시 (페이지 이동 없음)
  - 관련 조문 3개 + "더 보기" 버튼
- **와우 포인트**: 어떤 페이지에서든 즉시 법률 조회 가능

### 2. **기존 문서에 법률 근거 자동 연결** ⭐️⭐️
- **위험성평가서**: "이 평가는 산업안전보건법 제36조에 근거합니다" 자동 표시
- **작업허가서**: 허가 타입별로 관련 법조문 자동 매칭 및 표시
- **실험계획서**: 화학물질/방사선 사용시 관련 법률 자동 안내
- **교육 계획**: 법정 교육 시간/내용 자동 체크 및 근거 제시

### 3. **컴플라이언스 인디케이터 통합** ⭐️⭐️⭐️
- **대시보드**: 각 문서별 법률 준수 상태를 색깔로 표시 (🟢완료 🟡주의 🔴위험)
- **문서 카드**: 위험성평가, 교육기록 등에 "✅법률준수" 뱃지 표시
- **일정관리**: 법정 점검일, 교육일 자동 추가 및 알림

### 4. **문서 작성 시 실시간 가이드** ⭐️⭐️
- **작성 중 팝업**: "화기작업 허가서 작성 중... 관련 법률 조항을 확인하세요"
- **필수 항목 체크**: 법률상 필수 기재사항 누락시 경고
- **템플릿 강화**: 기존 문서 템플릿에 법률 근거 섹션 자동 추가

## 🚀 단계별 구현 계획

### Phase 1: 글로벌 법률 검색 위젯 (1주차)
**목표**: 기존 시스템에 영향 주지 않으면서 바로 가치를 보여줄 수 있는 독립 기능
- [ ] LawSearchWidget 컴포넌트 개발
- [ ] 법률 검색 API 구현 (기존 SQL 데이터 연동)
- [ ] 사이드바에 검색 위젯 통합
- [ ] 팝업 검색 결과 표시 기능
- [ ] 기본 테스트 및 UX 검증

### Phase 2: 기존 문서 시스템과 연결 (2주차)
**목표**: 위험성평가서, 작업허가서에 법률 근거 자동 표시
- [ ] 문서-법률 매핑 데이터 구축
- [ ] LawReferenceSection 컴포넌트 개발
- [ ] 위험성평가 페이지에 법률 근거 섹션 추가
- [ ] 작업허가서 페이지에 관련 법률 자동 표시
- [ ] 테스트 및 피드백 반영

### Phase 3: 대시보드 컴플라이언스 통합 (3주차)
**목표**: 전체 시스템의 법률 준수 상태 한눈에 파악
- [ ] 컴플라이언스 상태 계산 로직 구현
- [ ] ComplianceIndicator 컴포넌트 개발
- [ ] 메인 대시보드에 법률 준수 인디케이터 추가
- [ ] 문서 카드에 준수 뱃지 표시
- [ ] 알림 시스템 기본 구조 구축

### Phase 4: 실시간 가이드 및 고도화 (4주차)
**목표**: 문서 작성 과정에서 실시간 법률 가이드 제공
- [ ] 실시간 가이드 팝업 시스템 구현
- [ ] AI 문서 생성에 법률 조항 자동 삽입
- [ ] 일정관리에 법정 일정 자동 연동
- [ ] 전체 시스템 통합 테스트
- [ ] 성능 최적화 및 UX 개선

## 📂 파일 구조 계획
```
docs/
└── law-integration-plan.md           # 이 문서

src/components/laws/
├── LawSearchWidget.tsx               # 글로벌 법률 검색 위젯
├── LawReferenceSection.tsx           # 문서별 법률 근거 표시
├── ComplianceIndicator.tsx           # 준수 상태 인디케이터
└── LawGuidePopup.tsx                 # 실시간 가이드 팝업

src/lib/laws/
├── lawMapping.ts                     # 문서-법률 매핑 데이터
├── lawSearch.ts                      # 법률 검색 로직
├── complianceChecker.ts              # 준수 상태 체크 로직
└── lawDatabase.ts                    # SQL 데이터베이스 연동

src/app/laws/
├── page.tsx                          # 법률 메인 페이지 (향후)
├── search/                           # 통합 검색 페이지 (향후)
└── compliance/                       # 컴플라이언스 대시보드 (향후)
```

## 💡 기존 시스템 통합 포인트

### 문서 관리 시스템 강화
- **기존**: 단순 문서 업로드/관리
- **추가**: 각 문서의 법률 근거 자동 표시 + 준수 상태 체크

### AI 문서 생성 강화  
- **기존**: AI로 문서 생성
- **추가**: 생성된 문서에 관련 법률 조항 자동 삽입

### 위험성평가 강화
- **기존**: 위험 요소 평가
- **추가**: 평가 결과의 법률 준수 여부 자동 판정

### 작업허가서 강화
- **기존**: 허가서 작성/승인
- **추가**: 허가 타입별 법적 요구사항 실시간 체크

### 교육 관리 강화
- **기존**: 교육 계획 및 이수 관리
- **추가**: 법정 교육 시간/내용 자동 체크 및 알림

### 일정 관리 강화
- **기존**: 일반적인 일정 관리
- **추가**: 법정 점검일, 교육일 자동 추가 및 알림

## ✅ 각 단계별 성공 기준

### Phase 1 성공 기준
- [ ] 사이드바에서 법률 검색이 정상 작동
- [ ] 검색 결과가 팝업으로 깔끔하게 표시
- [ ] 기존 기능에 전혀 영향을 주지 않음
- [ ] 사용자가 직관적으로 사용 가능

### Phase 2 성공 기준  
- [ ] 위험성평가서에 관련 법률 조항이 자동 표시
- [ ] 작업허가서 타입별 법적 요구사항 정확히 매칭
- [ ] 법률 근거가 명확하고 이해하기 쉽게 표시

### Phase 3 성공 기준
- [ ] 대시보드에서 전체 컴플라이언스 상태 한눈에 파악
- [ ] 각 문서의 법률 준수 상태가 정확히 계산
- [ ] 색상 코딩으로 직관적인 상태 표시

### Phase 4 성공 기준
- [ ] 문서 작성 시 실시간으로 관련 법률 가이드 제공
- [ ] 필수 항목 누락 시 즉시 경고
- [ ] 전체 시스템이 안정적으로 통합 운영

## ⚠️ 리스크 관리 계획

### 기술적 리스크
- **기존 기능 영향**: 각 단계마다 기존 기능 동작 확인
- **성능 저하**: 법률 검색이 전체 시스템 성능에 영향 주지 않도록 최적화
- **데이터 동기화**: SQL 법률 데이터와 애플리케이션 상태 일관성 유지

### 사용자 경험 리스크
- **복잡성 증가**: 법률 기능이 기존 워크플로우를 복잡하게 만들지 않도록 주의
- **정보 과부하**: 필요한 법률 정보만 적절한 타이밍에 표시
- **학습 곡선**: 새로운 기능 사용법이 직관적이도록 설계

### 운영 리스크
- **법률 데이터 정확성**: 법률 개정사항 반영 프로세스 구축 필요
- **컴플라이언스 판정**: 자동 판정 결과의 법적 책임 범위 명확화
- **데이터 백업**: 법률 데이터베이스 백업 및 복구 계획

## 📊 성과 측정 지표

### 사용성 지표
- 법률 검색 위젯 일일 사용 횟수
- 검색 후 관련 문서 작성 연결률
- 사용자 만족도 피드백 점수

### 비즈니스 지표
- 문서 작성 시간 단축률
- 법률 준수 관련 오류 감소율
- 컴플라이언스 체크 완료율

### 기술 지표
- 법률 검색 응답 시간
- 시스템 전체 성능 영향도
- 오류 발생률

이 계획을 바탕으로 단계별로 안전하게 구현하여, 기존 시스템의 가치를 극대화하면서 법률 통합 기능을 성공적으로 도입하겠습니다.